##### 프로듀서 소개
* 프로듀서는 카프카 브로커로 데이터를 전송할 때 내부적으로 파티서너, 배치 생성 단계를 거침
1. 프로듀서 인스턴스 생성
   * new ProducerRecord(topic, msgValue)
   * 위 파라미터(필수) 외에 추가 파라미터로 오버로딩하하여 ProductRecord의 내부 변수 선언 가능
2. send() 메서드 호출
   * ProducerRecord는 파티셔너에서 토픽의 어느 파티션으로 전송될 것인지 정해짐
   * 인스턴스 생성 시 파티셔너 관련 별도의 설정이 없으면 defaultPartitioner로 설정되어 파티션이 정해짐
     * 프로듀서 API 사용 시 2개의 파티션을 제공
       * UniformStickyPartitioner(2.4.0 버전 이후 기본설정) : 어큐뮬레이터에서 데이터가 배치로 모두 묶일 때까지 기다렸다가 배치로 묶인 데이터는 모두 동일한 파티션에 전송함
       * RoundRobinParitioner(2.4.0 버전 이전 기본설정) : ProducerRecord가 들어오는 대로 파티션을 순회하면서 전송, 배치 빈도가 상대적으로 적음
     * 카프카 클라이언트 라이브러리에서 Partitioner 인터페이스 제공, 이것으로 사용자 지정 파티셔너 생성 가능
3. 배치 생성
   * 파티셔너에 의해 구분된 레코드는 accumulator에 데이터를 버퍼로 쌓아놓고 발송
   * 버퍼로 쌓인 데이터는 배치로 묶어서 전송함으로써 카프카의 프로듀서 처리향을 향상시킴

##### 프로듀서 주요 옵션
1. (설정이)필수 옵션
   * bootstrap.servers : 프로듀서가 데이터를 전송할 대상 카프카 클러스터에 속한 브로커의 호스트 이름
   * key.serializer : 레코드의 메시지키를 직렬화하는 클래스를 지정
   * value.serializer : 레코드의 메시지 값을 직렬화하는 클래스를 지정
2. (설정이)선택 옵션
   * acks : 전송한 데이터가 브로커에 정상적으로 저장되었는지 전송 성공 여부를 확인하는데 사용.
   * buffer.memnory : 배치를 위한 버퍼 메모리양을 지정
   * retries : 프로듀서가 브로커로부터 에러를 받고 난 뒤 재전송을 시도하는 횟수를 지정
   * batch.size : 배치로 전송할 레코드 최대 용량을 지정, 너무 작으면 네트워크에 부담, 너무 크면 메모리를 많이 사용하게 됨.
   * linger.ms : 배치를 전송하기 전까지 기다리는 최소 시간.
   * partitioner.class : 레코드를 파티션에 전송할 때 적용하는 파티셔너 클래스를 지정
   * enable.idempotence : 멱등성 프로듀서로 동작할지 여부 ( f(f(x))= f(x) )
   * transactional.id : 프로듀서가 레코드를 전송할 때 레코드를 트랜잭션 단위로 묶을지 여부를 설정
   
##### 프로듀서 정리
1. 메세지 키를 가진 데이터를 전송
2. 커스텀 파티셔너를 가짐
3. 브로커 정상 전송 여부를 확인
   * 동기 : send() 리턴 결과값이 '대기' 하다가 카프카 브로커로부터 응답이 오면 RecordMetadata 인스턴스를 반환
   * 비동기 : Callback 인터페이스