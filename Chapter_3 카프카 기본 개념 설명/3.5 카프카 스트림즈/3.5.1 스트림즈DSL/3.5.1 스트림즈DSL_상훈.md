### 카프카 스트림즈
* 토픽에 적재된 데이터를 상태기반(Stateful) 또는 비상태기반(Stateless)으로 실시간 변환하여 다른 토픽에 적재하는 라이브러리.
* 사용해야 하는 이유?
  * 카프카에서 공식적으로 지원하는 라이브러리... 
    * 자바 기반 스트림즈 애플리케이션은 카프카 클러스터와 완벽하게 호환 
  * 장애허용시스템(fault tolerant system)이 있어 데이터 처리 안정성이 뛰어남

##### 스트림즈 애플리케이션
* 내부적으로 스레드 1개 이상 생성 가능, 스레드는 1개 이상의 태스크를 가진다.
* 태스크 : 스트림즈 애플리케이션을 실행하면 생기는 데이터 처리 최소 단위 ex. 파티션 3개의 파티션을 처리하는 스트림즈 애플리케이션을 실행하면 내부에 3개의 태스크가 생김.
* 컨슈머 스레드를 늘리는 방법처럼 병렬처리를 위해 파티션과 스트림즈 스레드 개수를 늘려 처리량 up
* 안정적인 운영을 위해 2개 이상의 서버로 구성하여 애플리케이션을 운영함

##### 카프카 스트림즈의 구조와 사용방법
* 구조
  * 스트림즈에서 사용하는 토폴로지는 트리 형태와 유사
  * 토폴로지의 노드 : 하나의 프로세서
    * 프로세서
      * 소스 프로세서 : 데이터를 처리하기 위해 최초로 선언해야 하는 노드, 데이터를 가져옴
      * 스트림 프로세서 : 다른 프로세서가 반환한 데이터를 처리. 변환, 분기처리와 같은 로직이 데이터 처리의 일종이라함
      * 싱크 프로세서 : 데이터를 특정 카프카 토픽으로 저장하는 역할
  * 토폴로지에서 노드와 노드를 이은 선 : 스트림, 토픽의 데이터를 뜻하며 이전의 '레코드'와 동일
* 사용방법
  1. 스트림즈DSL(Domain Specific Language)
     * 다양한 기능들을 자체 API로 제공
  2. 프로세서 API
     * custom 가능

### 스트림즈DSL
* 레코드의 흐름을 추상화
* 카프카 클라이언트에서는 사용되지 않고 스트림즈DSL에서만 사용

##### KStream
* 메세지 키와 메시지 값으로 구성
* KStream으로 데이터를 조회하면 모든 레코드가 출력됨... 컨슈머로 토픽을 구독(subscribe)하는 것고 동일한 선상에서 사용하는 것으로 간주

##### KTalble
* 메세지 키를 기준으로 묶어서 사용.
* 모든 레코드가 아닌 가장 최신에 추가된 레코드의 데이터를 출력
* 최신에 추가된 레코드는 이전에 추가된 동일한 메시지 키를 가진 레코드의 값을 업데이트 함

##### GlobalKTable
